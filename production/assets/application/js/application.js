App=Ember.Application.create();var kResultsPerPage=10;App.Router.map(function(){this.resource("dashboard",{path:"/"}),this.resource("settings",{path:"/settings"}),this.resource("search",{path:"/search/:query/page/:page"}),this.resource("detailedSearch",{path:"/detailed_search"}),this.resource("detailedSearchResults",{path:"/detailed_search/:query/results/:page"}),this.resource("event",{path:"/event/:uid"}),this.resource("email",{path:"/email/:email_id"})}),App.ApplicationController=Ember.Controller.extend({query:"",actions:{search:function(){var e=10,t=1,n={query:"wildcard",text:this.get("query"),resultsPerPage:e,offset:t},r=this,i="api/search.php?"+$.param(n);this.set("query",""),Ember.$.getJSON(i).then(function(e){e.query=n.text,e.page=t,r.transitionToRoute("search",e)})}}}),App.DashboardController=Ember.Controller.extend({query:"",actions:{search:function(){var e=this.get("query"),t=1,n=10,r=this;Ember.$.getJSON("api/search.php?query=wildcard&resultsPerPage="+n+"&text="+e).then(function(i){i.query=e,i.page=t;var s=i.data;i.data=s.slice((t-1)*n,t*n),console.log("Application search results:",i),r.transitionToRoute("search",i)})}}}),App.DetailedSearchController=Ember.ArrayController.extend({actions:{removeFilter:function(e){this.removeObject(e)},addFilter:function(e){if("dateStart"===e.id&&this.findBy("id","dateStart"))return alert("You already have a Start Date filter!"),void 0;if("dateEnd"===e.id&&this.findBy("id","dateEnd"))return alert("You already have a Start End filter!"),void 0;if("all"==$("#match_option").val()&&this.findBy("id",e.id))switch(e.id){case"category":case"additional_arguments":break;default:return alert('Since you\'ve selected "match all" above, you can only have one "'+e.name+'" filter in your search.'),void 0}var t={name:e.name,id:e.id,time:(new Date).getTime(),name_key:e.id+"_key",name_val:e.id+"_value",key:"",val:""};t[e.id]="id",this.addObject(t),setTimeout(function(){var e=$(".init-date-picker");e.each(function(t){$(e[t]).datepicker()})},500)},submitSearch:function(){var e={};$("#detailedSearchParams :input").each(function(){"button"!==this.type&&(e[this.name]||(e[this.name]=[]),e[this.name].push($(this).val()))});var t={query:"detailed",match:"all"};for(var n in e)if("additional_arguments_value"!==n)if("additional_arguments_key"===n)t.additional_arguments=[],e[n].forEach(function(n,r){t.additional_arguments.push('"'+n+'":"'+e.additional_arguments_value[r]+'"')});else if(n.match(/newsletter/g))t.newsletter=[],e[n].forEach(function(e){t.newsletter.push('"'+n+'":"'+e+'"')});else if("dateStart"===n||"dateEnd"===n){var r=new Date(e[n]),i=r.getTime(),s=i%1e3,a=(i-s)/1e3;t[n]=a}else t[n]=e[n].length>1?e[n]:e[n][0];var o=this,u="1";t.resultsPerPage=kResultsPerPage,t.offset=u;var l="api/search.php?"+$.param(t);Ember.$.getJSON(l).then(function(e){e.page=u,e.query=JSON.stringify(t),o.transitionToRoute("detailedSearchResults",e)})}},allFilters:function(){return availableParams}.property()});var availableParams=[{name:"Additional Argument",id:"additional_arguments"},{name:"Attempt",id:"attempt"},{name:"Category",id:"category"},{name:"Date End",id:"dateEnd"},{name:"Date Start",id:"dateStart"},{name:"Email",id:"email"},{name:"Event",id:"event"},{name:"IP",id:"ip"},{name:"Newsletter ID",id:"newsletter_id"},{name:"Newsletter Send ID",id:"newsletter_send_id"},{name:"Newsletter User List ID",id:"newsletter_list_id"},{name:"SMTP-ID",id:"smtpid"},{name:"Reason",id:"reason"},{name:"Response",id:"response"},{name:"Status",id:"status"},{name:"Type",id:"type"},{name:"URL",id:"url"},{name:"User Agent",id:"useragent"}];App.DetailedSearchResultsController=Ember.Controller.extend({actions:{downloadCSV:function(){var e=JSON.parse(decodeURIComponent(this.get("model.query")));e.csv=!0,e.offset=0,e.resultsPerPage=kResultsPerPage,window.location="api/search.php?"+$.param(e)}}}),App.EventController=Ember.ObjectController.extend({modelDidChange:function(){var e=this;if(!$("#related-group").length)return setTimeout(function(){e.modelDidChange()},100),void 0;var t=this.get("model.smtpid"),n=this.get("model.event"),r=this.get("model.reason"),i=this.get("model.email");if(t){var s={query:"detailed",match:"all",smtpid:t,email:i,resultsPerPage:1e3};Ember.$.getJSON("api/search.php?"+$.param(s)).then(function(t){t.data&&t.data.length>1&&($("#related-group").html(""),t.data.forEach(function(t){var n=formatEventWithColor(t.event);t.uid===e.get("model.uid")&&(n+="&nbsp;<small>Currently Selected</small>");var r=jQuery("<a/>",{href:"#/event/"+t.uid,"class":"list-group-item"}).appendTo("#related-group");jQuery("<h3/>",{style:"font-size: 18px; margin: 0px;"}).html(n).appendTo(r),jQuery("<p/>",{style:"font-size: 10px; margin: 0px; color: #AAA;"}).html(formatDateToLocal(t.timestamp)).appendTo(r)}))})}var a=$("#drop-reason");if(a.html("").css("display","none"),"dropped"===n){var r,o={bounce:'This email was dropped because "__EMAIL__" is on your bounce list.  To continue sending to this address, go to <a href="http://sendgrid.com/bounces">http://sendgrid.com/bounces</a> and delete it from the list.',unsubscribe:'This email was dropped because "__EMAIL__" is on your unsubscribe list.  To continue sending to this address, go to <a href="http://sendgrid.com/unsubscribes">http://sendgrid.com/unsubscribes</a> and delete it from the list.',invalid:'This email was dropped because "__EMAIL__" is an invalid email address.  See your invalid email list at <a href="http://sendgrid.com/invalidEmail">http://sendgrid.com/invalidEmail</a> for more info.',spam:'This email was dropped because "__EMAIL__" reported one of your previous messages as spam, and got added to your spam report list.  To continue sending to this address, go to <a href="http://sendgrid.com/spamReports">http://sendgrid.com/spamReports</a> and delete it from the list.'};for(var u in o){var l=RegExp(u,"gi");r.match(l)&&(r=o[u].replace("__EMAIL__",i))}r&&(a.css("display","block"),jQuery("<p/>").html(r).appendTo(a))}}.observes("model")}),App.SearchController=Ember.Controller.extend({actions:{downloadCSV:function(){var e={text:decodeURIComponent(this.get("model.query")),query:"wildcard",csv:!0,offset:0,resultsPerPage:kResultsPerPage};window.location="api/search.php?"+$.param(e)}}}),App.SettingsController=Ember.Controller.extend({actions:{save:function(){var e=1*this.get("model.selectedAutoDeleteValue"),t={query:"save_settings",autodelete:e};$.get("api/search.php?"+$.param(t),function(e){e?(alert("Your changes have been saved!"),window.location.reload()):alert("Uh oh! Something went wrong.")})}}}),Ember.TEMPLATES.application=Ember.Handlebars.template(function(e,t,n,r,i){function s(e,t){t.buffer.push("<a>SETTINGS</a>")}function a(e,t){t.buffer.push("<a>DETAILED SEARCH</a>")}this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,Ember.Handlebars.helpers),i=i||{};var o,u,l,c="",h=this,p=n.helperMissing,f=this.escapeExpression;return i.buffer.push('<div class="nav">\n    <div class="nav_container">\n        <a href="#">\n            <div class="brand"></div>\n        </a>\n        <ul class="nav_links">\n            '),u=n["link-to"]||t&&t["link-to"],l={hash:{tagName:"li"},hashTypes:{tagName:"STRING"},hashContexts:{tagName:t},inverse:h.noop,fn:h.program(1,s,i),contexts:[t],types:["STRING"],data:i},o=u?u.call(t,"settings",l):p.call(t,"link-to","settings",l),(o||0===o)&&i.buffer.push(o),i.buffer.push("\n            "),u=n["link-to"]||t&&t["link-to"],l={hash:{tagName:"li"},hashTypes:{tagName:"STRING"},hashContexts:{tagName:t},inverse:h.noop,fn:h.program(3,a,i),contexts:[t],types:["STRING"],data:i},o=u?u.call(t,"detailedSearch",l):p.call(t,"link-to","detailedSearch",l),(o||0===o)&&i.buffer.push(o),i.buffer.push('\n        </ul>\n        <div class="search">\n            <div class="navbar-form navbar-left" role="search">\n                <div class="form-group">\n                    '),i.buffer.push(f((u=n.input||t&&t.input,l={hash:{type:"text",value:"query",action:"search","class":"form-control",placeholder:"Search"},hashTypes:{type:"STRING",value:"ID",action:"STRING","class":"STRING",placeholder:"STRING"},hashContexts:{type:t,value:t,action:t,"class":t,placeholder:t},contexts:[],types:[],data:i},u?u.call(t,l):p.call(t,"input",l)))),i.buffer.push('\n                </div>\n            </div>\n        </div>\n    </div>\n</div>\n<div class="body">\n    <div class="body_container">\n    '),o=n._triageMustache.call(t,"outlet",{hash:{},hashTypes:{},hashContexts:{},contexts:[t],types:["ID"],data:i}),(o||0===o)&&i.buffer.push(o),i.buffer.push("\n    </div>\n</div>"),c}),Ember.TEMPLATES.dashboard=Ember.Handlebars.template(function(e,t,n,r,i){function s(e,t){t.buffer.push("Detailed Search")}function a(e,t){var r,i="";return t.buffer.push("\n                        "),r=n.each.call(e,"model.recent",{hash:{},hashTypes:{},hashContexts:{},inverse:b.noop,fn:b.program(4,o,t),contexts:[e],types:["ID"],data:t}),(r||0===r)&&t.buffer.push(r),t.buffer.push("\n                    "),i}function o(e,t){var r,i,s,a="";return t.buffer.push("\n                            "),i=n["link-to"]||e&&e["link-to"],s={hash:{classNames:"list-group-item"},hashTypes:{classNames:"STRING"},hashContexts:{classNames:e},inverse:b.noop,fn:b.program(5,u,t),contexts:[e,e],types:["STRING","ID"],data:t},r=i?i.call(e,"event","",s):d.call(e,"link-to","event","",s),(r||0===r)&&t.buffer.push(r),t.buffer.push("\n                        "),a}function u(e,t){var r,i,s,a="";return t.buffer.push('\n                                <h3 style="font-size: 18px; margin: 0px;">\n                                    '),t.buffer.push(m((i=n["event-color"]||e&&e["event-color"],s={hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["ID"],data:t},i?i.call(e,"event",s):d.call(e,"event-color","event",s)))),t.buffer.push('\n                                </h3>\n                                <p style="font-size: 10px; margin: 0px; color: #AAA;">'),t.buffer.push(m((i=n["format-date"]||e&&e["format-date"],s={hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["ID"],data:t},i?i.call(e,"timestamp",s):d.call(e,"format-date","timestamp",s)))),t.buffer.push('</p>\n                                <p class="truncate" style="font-size: 14px; margin-top: 5px; margin-bottom: 0px;">'),r=n._triageMustache.call(e,"email",{hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["ID"],data:t}),(r||0===r)&&t.buffer.push(r),t.buffer.push("</p>\n                            "),a}function l(e,t){t.buffer.push('\n                        <span href="#" class="list-group-item">\n                            <h3 style="font-size: 18px; margin-top: 1em; margin-bottom: 1em;">\n                                No recent events.\n                            </h3>\n                        </span>\n                    ')}this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,Ember.Handlebars.helpers),i=i||{};var c,h,p,f="",d=n.helperMissing,m=this.escapeExpression,b=this;return i.buffer.push('<h1 class="outer-text">Dashboard</h1>\n<p class="outer-text">Welcome to the SendGrid Event Webhook Starter Kit. Use the search box below to start searching your logs.</p>\n<div class="panel panel-default" style="margin-top: 25px">\n    <div class="panel-body">\n        <h1 style="margin-top: 0px">Search</h1>\n        <p>Your query below will check every field in the database (to, from, etc.). You can also specify specific fields by going to the '),h=n["link-to"]||t&&t["link-to"],p={hash:{},hashTypes:{},hashContexts:{},inverse:b.noop,fn:b.program(1,s,i),contexts:[t],types:["STRING"],data:i},c=h?h.call(t,"detailedSearch",p):d.call(t,"link-to","detailedSearch",p),(c||0===c)&&i.buffer.push(c),i.buffer.push(" page.</p>\n        "),i.buffer.push(m((h=n.input||t&&t.input,p={hash:{type:"text",value:"query",action:"search","class":"form-control"},hashTypes:{type:"STRING",value:"ID",action:"STRING","class":"STRING"},hashContexts:{type:t,value:t,action:t,"class":t},contexts:[],types:[],data:i},h?h.call(t,p):d.call(t,"input",p)))),i.buffer.push('\n    </div>\n</div>\n\n<table border="0" cellspacing="0" cellpadding="0" style="width: 100%; table-layout:fixed;">\n    <tr>\n        <td style="width: 415px; vertical-align: top;">\n            <div class="panel panel-info" style="margin-top: 25px;">\n                <div class="panel-heading">\n                    Most Recent Events\n                </div>\n                <div class="list-group" style="overflow-y: auto; height: 275px;">\n                    '),c=n["if"].call(t,"model.recent.length",{hash:{},hashTypes:{},hashContexts:{},inverse:b.program(7,l,i),fn:b.program(3,a,i),contexts:[t],types:["ID"],data:i}),(c||0===c)&&i.buffer.push(c),i.buffer.push('\n                </div>\n            </div>\n        </td>\n        <td style="width: 40px"></td>\n        <td style="width: 415px; vertical-align: top;">\n            <div class="panel panel-info" style="margin-top: 25px">\n                <div class="panel-heading">\n                    Total Events In Past 24 Hours\n                </div>\n                <div class="panel-body" style="overflow-y: auto; height: 275px;">\n                    <span style="text-align: center">\n                        <h1 style="font-size: 72px; margin-top: 50px; margin-bottom: 0px;">'),c=n._triageMustache.call(t,"model.totals",{hash:{},hashTypes:{},hashContexts:{},contexts:[t],types:["ID"],data:i}),(c||0===c)&&i.buffer.push(c),i.buffer.push("</h1>\n                        <h3>"),i.buffer.push(m((h=n["plural-event"]||t&&t["plural-event"],p={hash:{},hashTypes:{},hashContexts:{},contexts:[t],types:["ID"],data:i},h?h.call(t,"model.totals",p):d.call(t,"plural-event","model.totals",p)))),i.buffer.push("</h3>\n                    </span>\n                </div>\n            </div>\n        </td>\n    </tr>\n</table>\n<h1>&nbsp;</h1>"),f}),Ember.TEMPLATES.detailedSearch=Ember.Handlebars.template(function(e,t,n,r,i){function s(e,t){var r,i="";return t.buffer.push('\n                <div class="form-group filter-row">\n                    <label class="col-sm-2 control-label" style="width: 170px; text-align: right; margin-top: 8px;">'),r=n._triageMustache.call(e,"name",{hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["ID"],data:t}),(r||0===r)&&t.buffer.push(r),t.buffer.push("</label>\n                    "),r=n["if"].call(e,"additional_arguments",{hash:{},hashTypes:{},hashContexts:{},inverse:g.program(4,o,t),fn:g.program(2,a,t),contexts:[e],types:["ID"],data:t}),(r||0===r)&&t.buffer.push(r),t.buffer.push('\n                    <button type="button" class="btn btn-danger" '),t.buffer.push(b(n.action.call(e,"removeFilter","",{hash:{},hashTypes:{},hashContexts:{},contexts:[e,e],types:["STRING","ID"],data:t}))),t.buffer.push(">Remove Filter</button>                        \n                </div>\n            "),i}function a(e,t){var r,i,s="";return t.buffer.push("\n                        "),t.buffer.push(b((r=n.input||e&&e.input,i={hash:{value:"key","class":"form-control form-argument-field",placeholder:"Argument Key",type:"text",name:"name_key"},hashTypes:{value:"ID","class":"STRING",placeholder:"STRING",type:"STRING",name:"ID"},hashContexts:{value:e,"class":e,placeholder:e,type:e,name:e},contexts:[],types:[],data:t},r?r.call(e,i):m.call(e,"input",i)))),t.buffer.push("\n                        "),t.buffer.push(b((r=n.input||e&&e.input,i={hash:{value:"val","class":"form-control form-argument-field",placeholder:"Argument Value",type:"text",name:"name_val"},hashTypes:{value:"ID","class":"STRING",placeholder:"STRING",type:"STRING",name:"ID"},hashContexts:{value:e,"class":e,placeholder:e,type:e,name:e},contexts:[],types:[],data:t},r?r.call(e,i):m.call(e,"input",i)))),t.buffer.push("\n                    "),s}function o(e,t){var r,i="";return t.buffer.push("\n                        "),r=n["if"].call(e,"dateStart",{hash:{},hashTypes:{},hashContexts:{},inverse:g.program(7,l,t),fn:g.program(5,u,t),contexts:[e],types:["ID"],data:t}),(r||0===r)&&t.buffer.push(r),t.buffer.push("\n                    "),i}function u(e,t){var r,i,s="";return t.buffer.push("\n                            "),t.buffer.push(b((r=n.input||e&&e.input,i={hash:{value:"val","class":"form-control form-field init-date-picker",placeholder:"Date Start",type:"text",name:"id"},hashTypes:{value:"ID","class":"STRING",placeholder:"STRING",type:"STRING",name:"ID"},hashContexts:{value:e,"class":e,placeholder:e,type:e,name:e},contexts:[],types:[],data:t},r?r.call(e,i):m.call(e,"input",i)))),t.buffer.push("\n                        "),s}function l(e,t){var r,i="";return t.buffer.push("\n                            "),r=n["if"].call(e,"dateEnd",{hash:{},hashTypes:{},hashContexts:{},inverse:g.program(10,h,t),fn:g.program(8,c,t),contexts:[e],types:["ID"],data:t}),(r||0===r)&&t.buffer.push(r),t.buffer.push("\n                        "),i}function c(e,t){var r,i,s="";return t.buffer.push("\n                                "),t.buffer.push(b((r=n.input||e&&e.input,i={hash:{value:"val","class":"form-control form-field init-date-picker",placeholder:"Date End",type:"text",name:"id"},hashTypes:{value:"ID","class":"STRING",placeholder:"STRING",type:"STRING",name:"ID"},hashContexts:{value:e,"class":e,placeholder:e,type:e,name:e},contexts:[],types:[],data:t},r?r.call(e,i):m.call(e,"input",i)))),t.buffer.push("\n                            "),s}function h(e,t){var r,i,s="";return t.buffer.push("\n                                "),t.buffer.push(b((r=n.input||e&&e.input,i={hash:{value:"val","class":"form-control form-field",placeholder:"name",type:"text",name:"id"},hashTypes:{value:"ID","class":"STRING",placeholder:"ID",type:"STRING",name:"ID"},hashContexts:{value:e,"class":e,placeholder:e,type:e,name:e},contexts:[],types:[],data:t},r?r.call(e,i):m.call(e,"input",i)))),t.buffer.push("\n                            "),s}function p(e,t){var r,i="";return t.buffer.push("\n                    <li><a "),t.buffer.push(b(n.action.call(e,"addFilter","",{hash:{},hashTypes:{},hashContexts:{},contexts:[e,e],types:["STRING","ID"],data:t}))),t.buffer.push(">"),r=n._triageMustache.call(e,"name",{hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["ID"],data:t}),(r||0===r)&&t.buffer.push(r),t.buffer.push("</a></li>\n                "),i}this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,Ember.Handlebars.helpers),i=i||{};var f,d="",m=n.helperMissing,b=this.escapeExpression,g=this;return i.buffer.push('<div class="panel panel-default" style="margin-top: 25px">\n    <div class="panel-body">\n        <h1 style="margin:0px;">Detailed Search</h1>\n        <p style="margin-top: 0px;">Add filters below to narrow down your search:</p>\n        <form id="detailedSearchParams" class="form-inline" role="form" style="margin-bottom: 15px" '),i.buffer.push(b(n.action.call(t,"submitSearch",{hash:{on:"submit"},hashTypes:{on:"STRING"},hashContexts:{on:t},contexts:[t],types:["STRING"],data:i}))),i.buffer.push(">\n            "),f=n.each.call(t,"",{hash:{},hashTypes:{},hashContexts:{},inverse:g.noop,fn:g.program(1,s,i),contexts:[t],types:["ID"],data:i}),(f||0===f)&&i.buffer.push(f),i.buffer.push('\n        </form>\n        \n        <div class="btn-group">\n            <button type="button" class="btn btn-primary dropdown-toggle" data-toggle="dropdown">\n                Add Filter <span class="caret"></span>\n            </button>\n            <ul class="dropdown-menu" role="menu" id="add_filter_menu">\n                '),f=n.each.call(t,"allFilters",{hash:{},hashTypes:{},hashContexts:{},inverse:g.noop,fn:g.program(12,p,i),contexts:[t],types:["ID"],data:i}),(f||0===f)&&i.buffer.push(f),i.buffer.push('\n            </ul>\n        </div>\n\n        <button type="button" class="btn btn-success" '),i.buffer.push(b(n.action.call(t,"submitSearch",{hash:{},hashTypes:{},hashContexts:{},contexts:[t],types:["STRING"],data:i}))),i.buffer.push(">Search</button>\n    </div>\n</div>"),d}),Ember.TEMPLATES.detailedSearchResults=Ember.Handlebars.template(function(e,t,n,r,i){function s(e,t){var r,i,s,u="";return t.buffer.push('\n    <div class="panel panel-default" style="margin-top: 25px">\n        <div class="panel-body">\n            <h1 style="margin:0px;">Search Results</h1>\n            <p>'),i=n["link-to"]||e&&e["link-to"],s={hash:{},hashTypes:{},hashContexts:{},inverse:w.noop,fn:w.program(2,a,t),contexts:[e],types:["STRING"],data:t},r=i?i.call(e,"detailedSearch",s):y.call(e,"link-to","detailedSearch",s),(r||0===r)&&t.buffer.push(r),t.buffer.push('.</p>\n            <p><a href="#" '),t.buffer.push(E(n.action.call(e,"downloadCSV",{hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["STRING"],data:t}))),t.buffer.push('>Download as CSV</a></p>\n        </div>\n        <div class="list-group">\n            '),r=n["if"].call(e,"data.length",{hash:{},hashTypes:{},hashContexts:{},inverse:w.program(18,b,t),fn:w.program(4,o,t),contexts:[e],types:["ID"],data:t}),(r||0===r)&&t.buffer.push(r),t.buffer.push("\n        </div>\n    </div>\n    "),r=n["if"].call(e,"data.length",{hash:{},hashTypes:{},hashContexts:{},inverse:w.noop,fn:w.program(20,g,t),contexts:[e],types:["ID"],data:t}),(r||0===r)&&t.buffer.push(r),t.buffer.push("\n    <h1>&nbsp;</h1>\n"),u}function a(e,t){t.buffer.push("Modify your search")}function o(e,t){var r,i="";return t.buffer.push("\n                "),r=n.each.call(e,"data",{hash:{},hashTypes:{},hashContexts:{},inverse:w.noop,fn:w.program(5,u,t),contexts:[e],types:["ID"],data:t}),(r||0===r)&&t.buffer.push(r),t.buffer.push("\n            "),i}function u(e,t){var r,i,s,a="";return t.buffer.push("\n                    "),i=n["link-to"]||e&&e["link-to"],s={hash:{classNames:"list-group-item"},hashTypes:{classNames:"STRING"},hashContexts:{classNames:e},inverse:w.noop,fn:w.program(6,l,t),contexts:[e,e],types:["STRING","ID"],data:t},r=i?i.call(e,"event","",s):y.call(e,"link-to","event","",s),(r||0===r)&&t.buffer.push(r),t.buffer.push("\n                "),a}function l(e,t){var r,i,s,a="";return t.buffer.push('\n                        <table border="0" cellpadding="0" cellspacing="0" style="width: 100%; table-layout:fixed;">\n                            <tr>\n                                <td style="width: 50%; white-space: nowrap; overflow: hidden; text-overflow: ellipsis; vertical-align: top;">\n                                    <h3 style="font-size: 18px; margin: 0px;">\n                                        '),t.buffer.push(E((i=n["event-color"]||e&&e["event-color"],s={hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["ID"],data:t},i?i.call(e,"event",s):y.call(e,"event-color","event",s)))),t.buffer.push("\n                                    </h3>\n                                    "),r=n["if"].call(e,"timestamp",{hash:{},hashTypes:{},hashContexts:{},inverse:w.noop,fn:w.program(7,c,t),contexts:[e],types:["ID"],data:t}),(r||0===r)&&t.buffer.push(r),t.buffer.push("\n                                    "),r=n["if"].call(e,"email",{hash:{},hashTypes:{},hashContexts:{},inverse:w.noop,fn:w.program(9,h,t),contexts:[e],types:["ID"],data:t}),(r||0===r)&&t.buffer.push(r),t.buffer.push("\n                                    "),r=n["if"].call(e,"url",{hash:{},hashTypes:{},hashContexts:{},inverse:w.noop,fn:w.program(11,p,t),contexts:[e],types:["ID"],data:t}),(r||0===r)&&t.buffer.push(r),t.buffer.push('\n                                </td>\n                                <td style="width: 50%; white-space: nowrap; overflow: hidden; text-overflow: ellipsis; vertical-align: top;">\n                                    '),r=n["if"].call(e,"category",{hash:{},hashTypes:{},hashContexts:{},inverse:w.noop,fn:w.program(13,f,t),contexts:[e],types:["ID"],data:t}),(r||0===r)&&t.buffer.push(r),t.buffer.push("\n                                    "),r=n["if"].call(e,"additional_arguments",{hash:{},hashTypes:{},hashContexts:{},inverse:w.noop,fn:w.program(16,m,t),contexts:[e],types:["ID"],data:t}),(r||0===r)&&t.buffer.push(r),t.buffer.push("\n                                </td>\n                            </tr>\n                        </table>\n                    "),a}function c(e,t){var r,i,s="";return t.buffer.push('\n                                        <p style="font-size: 10px; margin: 0px; color: #AAA;">'),t.buffer.push(E((r=n["format-date"]||e&&e["format-date"],i={hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["ID"],data:t},r?r.call(e,"timestamp",i):y.call(e,"format-date","timestamp",i)))),t.buffer.push("</p>\n                                    "),s}function h(e,t){var r,i="";return t.buffer.push('\n                                        <p class="truncate" style="font-size: 14px; margin: 0px;">'),r=n._triageMustache.call(e,"email",{hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["ID"],data:t}),(r||0===r)&&t.buffer.push(r),t.buffer.push("</p>\n                                    "),i}function p(e,t){var r,i="";return t.buffer.push('\n                                        <p class="truncate" style="font-size: 14px; margin-top: 5px; margin-bottom: 0px;">'),r=n._triageMustache.call(e,"url",{hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["ID"],data:t}),(r||0===r)&&t.buffer.push(r),t.buffer.push("</p>\n                                    "),i}function f(e,t){var r,i="";return t.buffer.push('\n                                        <p style="margin: 0px; font-weight: bold">Categories:</p>\n                                        <ul>\n                                            '),r=n.each.call(e,"category",{hash:{},hashTypes:{},hashContexts:{},inverse:w.noop,fn:w.program(14,d,t),contexts:[e],types:["ID"],data:t}),(r||0===r)&&t.buffer.push(r),t.buffer.push("\n                                        </ul>\n                                    "),i}function d(e,t){var r,i="";return t.buffer.push("\n                                                <li>"),r=n._triageMustache.call(e,"",{hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["ID"],data:t}),(r||0===r)&&t.buffer.push(r),t.buffer.push("</li>\n                                            "),i}function m(e,t){var r,i,s="";return t.buffer.push('\n                                        <p style="margin: 0px; font-weight: bold;">Additional Arguments</p>\n                                        '),t.buffer.push(E((r=n["list-additional-arguments"]||e&&e["list-additional-arguments"],i={hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["ID"],data:t},r?r.call(e,"additional_arguments",i):y.call(e,"list-additional-arguments","additional_arguments",i)))),t.buffer.push("\n                                    "),s}function b(e,t){t.buffer.push('\n                <div class="list-group-item">\n                    <h3 style="font-size: 18px; margin: 0px;">\n                        No results.\n                    </h3>\n                </div>\n            ')}function g(e,t){var r,i,s="";return t.buffer.push('\n        <div style="text-align: center; margin: auto;">\n            <ul class="pagination">\n                '),t.buffer.push(E((r=n["result-pagination"]||e&&e["result-pagination"],i={hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["ID"],data:t},r?r.call(e,"pages",i):y.call(e,"result-pagination","pages",i)))),t.buffer.push("\n            </ul>\n        </div>\n    "),s}this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,Ember.Handlebars.helpers),i=i||{};var v,y=n.helperMissing,E=this.escapeExpression,w=this;v=n["with"].call(t,"model",{hash:{},hashTypes:{},hashContexts:{},inverse:w.noop,fn:w.program(1,s,i),contexts:[t],types:["ID"],data:i}),v||0===v?i.buffer.push(v):i.buffer.push("")}),Ember.TEMPLATES.email=Ember.Handlebars.template(function(e,t,n,r,i){function s(e,t){var r,i="";return t.buffer.push('\n        <h2 style="font-size: 18px; margin-top: 0px; font-weight: bold;">'),r=n._triageMustache.call(e,"email",{hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["ID"],data:t}),(r||0===r)&&t.buffer.push(r),t.buffer.push("</h2>\n    "),i}this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,Ember.Handlebars.helpers),i=i||{};var a,o="",u=this;return i.buffer.push('<span class="outer-text">\n    <h1>Email Details</h1>\n    '),a=n["if"].call(t,"email",{hash:{},hashTypes:{},hashContexts:{},inverse:u.noop,fn:u.program(1,s,i),contexts:[t],types:["ID"],data:i}),(a||0===a)&&i.buffer.push(a),i.buffer.push('\n</span>\n<table border="0" style="width: 100%;">\n    <tr>\n        <td style="width:25%; padding: 5px;">\n            <div class="panel panel-info">\n                <div class="panel-heading" style="text-align: center;">\n                    Processed Events\n                </div>\n                <div class="panel-body" style="overflow-y: auto; height: 150px;">\n                    <span style="text-align: center">\n                        <h1 style="font-size: 72px; margin-top: 15px; margin-bottom: 0px;">'),a=n._triageMustache.call(t,"data.processed",{hash:{},hashTypes:{},hashContexts:{},contexts:[t],types:["ID"],data:i}),(a||0===a)&&i.buffer.push(a),i.buffer.push('</h1>\n                    </span>\n                </div>\n            </div>\n        </td>\n        <td style="width:25%; padding: 5px;">\n            <div class="panel panel-info">\n                <div class="panel-heading" style="text-align: center;">\n                    Delivery Rate\n                </div>\n                <div class="panel-body" style="overflow-y: auto; height: 150px;">\n                    <span style="text-align: center">\n                        <h1 style="font-size: 72px; margin-top: 15px; margin-bottom: 0px;">'),a=n._triageMustache.call(t,"data.delivery_rate",{hash:{},hashTypes:{},hashContexts:{},contexts:[t],types:["ID"],data:i}),(a||0===a)&&i.buffer.push(a),i.buffer.push('<span style="font-size: 32px">%</span></h1>\n                    </span>\n                </div>\n            </div>\n        </td>\n        <td style="width:25%; padding: 5px;">\n            <div class="panel panel-info">\n                <div class="panel-heading" style="text-align: center;">\n                    Open Rate\n                </div>\n                <div class="panel-body" style="overflow-y: auto; height: 150px;">\n                    <span style="text-align: center">\n                        <h1 style="font-size: 72px; margin-top: 15px; margin-bottom: 0px;">'),a=n._triageMustache.call(t,"data.open_rate",{hash:{},hashTypes:{},hashContexts:{},contexts:[t],types:["ID"],data:i}),(a||0===a)&&i.buffer.push(a),i.buffer.push('<span style="font-size: 32px">%</span></h1>\n                    </span>\n                </div>\n            </div>\n        </td>\n        <td style="width:25%; padding: 5px;">\n            <div class="panel panel-info">\n                <div class="panel-heading" style="text-align: center;">\n                    Click Rate\n                </div>\n                <div class="panel-body" style="overflow-y: auto; height: 150px;">\n                    <span style="text-align: center">\n                        <h1 style="font-size: 72px; margin-top: 15px; margin-bottom: 0px;">'),a=n._triageMustache.call(t,"data.click_rate",{hash:{},hashTypes:{},hashContexts:{},contexts:[t],types:["ID"],data:i}),(a||0===a)&&i.buffer.push(a),i.buffer.push('<span style="font-size: 32px">%</span></h1>\n                    </span>\n                </div>\n            </div>\n        </td>\n    </tr>\n</table>'),o}),Ember.TEMPLATES.event=Ember.Handlebars.template(function(e,t,n,r,i){function s(e,t){var r,i="";return t.buffer.push('\n    <span class="outer-text">\n        <h1>Event Details</h1>\n        '),r=n["if"].call(e,"event",{hash:{},hashTypes:{},hashContexts:{},inverse:O.noop,fn:O.program(2,a,t),contexts:[e],types:["ID"],data:t}),(r||0===r)&&t.buffer.push(r),t.buffer.push("\n        "),r=n["if"].call(e,"email",{hash:{},hashTypes:{},hashContexts:{},inverse:O.noop,fn:O.program(4,o,t),contexts:[e],types:["ID"],data:t}),(r||0===r)&&t.buffer.push(r),t.buffer.push('\n    </span>\n    <table border="0" cellspacing="0" cellpadding="0" style="width: 100%; table-layout:fixed;">\n        <tr>\n            <td style="width: 415px; vertical-align: top;">\n                <div class="panel panel-info" style="margin-top: 25px;">\n                    <div class="panel-heading">\n                        Event Information\n                    </div>\n                    <div class="panel-body" id="event-info-body" style="overflow:hidden">\n                        '),r=n["if"].call(e,"timestamp",{hash:{},hashTypes:{},hashContexts:{},inverse:O.noop,fn:O.program(7,l,t),contexts:[e],types:["ID"],data:t}),(r||0===r)&&t.buffer.push(r),t.buffer.push("\n\n                        "),r=n["if"].call(e,"event_post_timestamp",{hash:{},hashTypes:{},hashContexts:{},inverse:O.noop,fn:O.program(9,c,t),contexts:[e],types:["ID"],data:t}),(r||0===r)&&t.buffer.push(r),t.buffer.push("\n\n                        "),r=n["if"].call(e,"subject",{hash:{},hashTypes:{},hashContexts:{},inverse:O.noop,fn:O.program(11,h,t),contexts:[e],types:["ID"],data:t}),(r||0===r)&&t.buffer.push(r),t.buffer.push("\n\n                        "),r=n["if"].call(e,"smtpid",{hash:{},hashTypes:{},hashContexts:{},inverse:O.noop,fn:O.program(13,p,t),contexts:[e],types:["ID"],data:t}),(r||0===r)&&t.buffer.push(r),t.buffer.push("\n\n                        "),r=n["if"].call(e,"sg_event_id",{hash:{},hashTypes:{},hashContexts:{},inverse:O.noop,fn:O.program(15,f,t),contexts:[e],types:["ID"],data:t}),(r||0===r)&&t.buffer.push(r),t.buffer.push("\n\n                        "),r=n["if"].call(e,"category",{hash:{},hashTypes:{},hashContexts:{},inverse:O.noop,fn:O.program(17,d,t),contexts:[e],types:["ID"],data:t}),(r||0===r)&&t.buffer.push(r),t.buffer.push("\n\n                        "),r=n["if"].call(e,"newsletter",{hash:{},hashTypes:{},hashContexts:{},inverse:O.noop,fn:O.program(20,b,t),contexts:[e],types:["ID"],data:t}),(r||0===r)&&t.buffer.push(r),t.buffer.push("\n\n                        "),r=n["if"].call(e,"reason",{hash:{},hashTypes:{},hashContexts:{},inverse:O.noop,fn:O.program(22,g,t),contexts:[e],types:["ID"],data:t}),(r||0===r)&&t.buffer.push(r),t.buffer.push("\n\n                        "),r=n["if"].call(e,"response",{hash:{},hashTypes:{},hashContexts:{},inverse:O.noop,fn:O.program(24,v,t),contexts:[e],types:["ID"],data:t}),(r||0===r)&&t.buffer.push(r),t.buffer.push("\n\n                        "),r=n["if"].call(e,"url",{hash:{},hashTypes:{},hashContexts:{},inverse:O.noop,fn:O.program(26,y,t),contexts:[e],types:["ID"],data:t}),(r||0===r)&&t.buffer.push(r),t.buffer.push("\n\n                        "),r=n["if"].call(e,"ip",{hash:{},hashTypes:{},hashContexts:{},inverse:O.noop,fn:O.program(28,E,t),contexts:[e],types:["ID"],data:t}),(r||0===r)&&t.buffer.push(r),t.buffer.push("\n\n                        "),r=n["if"].call(e,"useragent",{hash:{},hashTypes:{},hashContexts:{},inverse:O.noop,fn:O.program(30,w,t),contexts:[e],types:["ID"],data:t}),(r||0===r)&&t.buffer.push(r),t.buffer.push("\n\n                        "),r=n["if"].call(e,"attempt",{hash:{},hashTypes:{},hashContexts:{},inverse:O.noop,fn:O.program(32,x,t),contexts:[e],types:["ID"],data:t}),(r||0===r)&&t.buffer.push(r),t.buffer.push("\n\n                        "),r=n["if"].call(e,"status",{hash:{},hashTypes:{},hashContexts:{},inverse:O.noop,fn:O.program(34,C,t),contexts:[e],types:["ID"],data:t}),(r||0===r)&&t.buffer.push(r),t.buffer.push("\n\n                        "),r=n["if"].call(e,"type",{hash:{},hashTypes:{},hashContexts:{},inverse:O.noop,fn:O.program(36,_,t),contexts:[e],types:["ID"],data:t}),(r||0===r)&&t.buffer.push(r),t.buffer.push("\n\n                        "),r=n["if"].call(e,"sg_message_id",{hash:{},hashTypes:{},hashContexts:{},inverse:O.noop,fn:O.program(38,T,t),contexts:[e],types:["ID"],data:t}),(r||0===r)&&t.buffer.push(r),t.buffer.push("\n\n                        "),r=n["if"].call(e,"additional_arguments",{hash:{},hashTypes:{},hashContexts:{},inverse:O.noop,fn:O.program(40,S,t),contexts:[e],types:["ID"],data:t}),(r||0===r)&&t.buffer.push(r),t.buffer.push('\n                        <span id="drop-reason"></span>\n                    </div>\n                </div>\n            </td>\n            <td style="width: 40px"></td>\n            <td style="width: 415px; vertical-align: top;">\n                <div class="panel panel-info" style="margin-top: 25px;">\n                    <div class="panel-heading">\n                        Related Events\n                    </div>\n                    <div class="panel-body">\n                        Related events are determined by the SMTP-ID of the message. Keep in mind that not all events have an SMTP-ID (such as opens and clicks), so you might not see all the related events listed below.\n                    </div>\n                    <div class="list-group" style="overflow-y: auto;" id="related-group">\n                        <span href="#" class="list-group-item">\n                            <h3 style="font-size: 18px; margin-top: 1em; margin-bottom: 1em;">\n                                No related events found.\n                            </h3>\n                        </span>\n                    </div>\n                </div>\n            </td>\n        </tr>\n    </table>\n'),i
}function a(e,t){var r,i,s="";return t.buffer.push('\n            <h2 style="font-size: 22px; margin-bottom: 0px;">'),t.buffer.push(N((r=n["event-color"]||e&&e["event-color"],i={hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["ID"],data:t},r?r.call(e,"event",i):A.call(e,"event-color","event",i)))),t.buffer.push("</h2>\n        "),s}function o(e,t){var r,i,s,a="";return t.buffer.push("\n            "),i=n["link-to"]||e&&e["link-to"],s={hash:{},hashTypes:{},hashContexts:{},inverse:O.noop,fn:O.program(5,u,t),contexts:[e,e],types:["STRING","ID"],data:t},r=i?i.call(e,"email","email",s):A.call(e,"link-to","email","email",s),(r||0===r)&&t.buffer.push(r),t.buffer.push("\n        "),a}function u(e,t){var r,i="";return t.buffer.push('\n                <span style="font-size: 18px; margin: 0px; font-weight: bold;">'),r=n._triageMustache.call(e,"email",{hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["ID"],data:t}),(r||0===r)&&t.buffer.push(r),t.buffer.push("</span>\n            "),i}function l(e,t){var r,i,s="";return t.buffer.push("\n                            <p><b>Time:</b></p>\n                            <ul><li>"),t.buffer.push(N((r=n["format-date"]||e&&e["format-date"],i={hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["ID"],data:t},r?r.call(e,"timestamp",i):A.call(e,"format-date","timestamp",i)))),t.buffer.push("</li></ul>\n                        "),s}function c(e,t){var r,i,s="";return t.buffer.push("\n                            <p><b>Event Posted At:</b></p>\n                            <ul><li>"),t.buffer.push(N((r=n["format-date"]||e&&e["format-date"],i={hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["ID"],data:t},r?r.call(e,"event_post_timestamp",i):A.call(e,"format-date","event_post_timestamp",i)))),t.buffer.push("</li></ul>\n                        "),s}function h(e,t){var r,i="";return t.buffer.push("\n                            <p><b>Subject:</b></p>\n                            <ul><li>"),r=n._triageMustache.call(e,"subject",{hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["ID"],data:t}),(r||0===r)&&t.buffer.push(r),t.buffer.push("</li></ul>\n                        "),i}function p(e,t){var r,i="";return t.buffer.push("\n                            <p><b>SMTP-ID:</b></p>\n                            <ul><li><span id='current_smtpid'>"),r=n._triageMustache.call(e,"smtpid",{hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["ID"],data:t}),(r||0===r)&&t.buffer.push(r),t.buffer.push("</span></li></ul>\n                        "),i}function f(e,t){var r,i="";return t.buffer.push("\n                            <p><b>SendGrid Event ID:</b></p>\n                            <ul><li>"),r=n._triageMustache.call(e,"sg_event_id",{hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["ID"],data:t}),(r||0===r)&&t.buffer.push(r),t.buffer.push("</li></ul>\n                        "),i}function d(e,t){var r,i="";return t.buffer.push("\n                            <p><b>Categories:</b></p>\n                            <ul>\n                                "),r=n.each.call(e,"category",{hash:{},hashTypes:{},hashContexts:{},inverse:O.noop,fn:O.program(18,m,t),contexts:[e],types:["ID"],data:t}),(r||0===r)&&t.buffer.push(r),t.buffer.push("\n                            </ul>\n                        "),i}function m(e,t){var r,i="";return t.buffer.push("\n                                    <li>"),r=n._triageMustache.call(e,"",{hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["ID"],data:t}),(r||0===r)&&t.buffer.push(r),t.buffer.push("</li>\n                                "),i}function b(e,t){var r,i="";return t.buffer.push("\n                            <p><b>Newsletter Info:</b></p>\n                            <ul>\n                                <li>Newsletter ID: "),r=n._triageMustache.call(e,"newsletter.newsletter_id",{hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["ID"],data:t}),(r||0===r)&&t.buffer.push(r),t.buffer.push("</li>\n                                <li>User List ID: "),r=n._triageMustache.call(e,"newsletter.newsletter_user_list_id",{hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["ID"],data:t}),(r||0===r)&&t.buffer.push(r),t.buffer.push("</li>\n                                <li>Send ID: "),r=n._triageMustache.call(e,"newsletter.newsletter_send_id",{hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["ID"],data:t}),(r||0===r)&&t.buffer.push(r),t.buffer.push("</li>\n                            </ul>\n                        "),i}function g(e,t){var r,i="";return t.buffer.push("\n                            <p><b>Reason:</b></p>\n                            <ul><li>"),r=n._triageMustache.call(e,"reason",{hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["ID"],data:t}),(r||0===r)&&t.buffer.push(r),t.buffer.push("</li></ul>\n                        "),i}function v(e,t){var r,i="";return t.buffer.push("\n                            <p><b>Response:</b></p>\n                            <ul><li>"),r=n._triageMustache.call(e,"response",{hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["ID"],data:t}),(r||0===r)&&t.buffer.push(r),t.buffer.push("</li></ul>\n                        "),i}function y(e,t){var r,i="";return t.buffer.push("\n                            <p><b>URL:</b></p>\n                            <ul><li>"),r=n._triageMustache.call(e,"url",{hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["ID"],data:t}),(r||0===r)&&t.buffer.push(r),t.buffer.push("</li></ul>\n                        "),i}function E(e,t){var r,i="";return t.buffer.push("\n                            <p><b>IP:</b></p>\n                            <ul><li>"),r=n._triageMustache.call(e,"ip",{hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["ID"],data:t}),(r||0===r)&&t.buffer.push(r),t.buffer.push("</li></ul>\n                        "),i}function w(e,t){var r,i="";return t.buffer.push("\n                            <p><b>User Agent:</b></p>\n                            <ul><li>"),r=n._triageMustache.call(e,"useragent",{hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["ID"],data:t}),(r||0===r)&&t.buffer.push(r),t.buffer.push("</li></ul>\n                        "),i}function x(e,t){var r,i="";return t.buffer.push("\n                            <p><b>Attempt:</b> "),r=n._triageMustache.call(e,"attempt",{hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["ID"],data:t}),(r||0===r)&&t.buffer.push(r),t.buffer.push("</p>\n                        "),i}function C(e,t){var r,i="";return t.buffer.push("\n                            <p><b>Status:</b></p>\n                            <ul><li>"),r=n._triageMustache.call(e,"status",{hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["ID"],data:t}),(r||0===r)&&t.buffer.push(r),t.buffer.push("</li></ul>\n                        "),i}function _(e,t){var r,i="";return t.buffer.push('\n                            <p><b>Type:</b></p>\n                            <ul><li class="truncate">'),r=n._triageMustache.call(e,"type",{hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["ID"],data:t}),(r||0===r)&&t.buffer.push(r),t.buffer.push("</li></ul>\n                        "),i}function T(e,t){var r,i="";return t.buffer.push('\n                            <p><b>SendGrid Message ID:</b></p>\n                            <ul><li class="truncate">'),r=n._triageMustache.call(e,"smtpid",{hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["ID"],data:t}),(r||0===r)&&t.buffer.push(r),t.buffer.push("</li></ul>\n                        "),i}function S(e,t){var r,i,s="";return t.buffer.push("\n                            <p><b>Additional Arguments</b></p>\n                            "),t.buffer.push(N((r=n["list-additional-arguments"]||e&&e["list-additional-arguments"],i={hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["ID"],data:t},r?r.call(e,"additional_arguments",i):A.call(e,"list-additional-arguments","additional_arguments",i)))),t.buffer.push("\n                        "),s}function D(e,t){t.buffer.push("\n    <h1>Event Not Found</h1>\n")}this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,Ember.Handlebars.helpers),i=i||{};var k,A=n.helperMissing,N=this.escapeExpression,O=this;k=n["if"].call(t,"event",{hash:{},hashTypes:{},hashContexts:{},inverse:O.program(42,D,i),fn:O.program(1,s,i),contexts:[t],types:["ID"],data:i}),k||0===k?i.buffer.push(k):i.buffer.push("")}),Ember.TEMPLATES.search=Ember.Handlebars.template(function(e,t,n,r,i){function s(e,t){var r,i,s,u="";return t.buffer.push('\n    <div class="panel panel-default" style="margin-top: 25px">\n        <div class="panel-body">\n            <h1 style="margin:0px;">Search Results</h1>\n            <p style="margin:0px; color: #888; font-size: 14px;">For "'),r=n._triageMustache.call(e,"query",{hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["ID"],data:t}),(r||0===r)&&t.buffer.push(r),t.buffer.push('"</p>\n            <p>Go to the '),i=n["link-to"]||e&&e["link-to"],s={hash:{},hashTypes:{},hashContexts:{},inverse:x.noop,fn:x.program(2,a,t),contexts:[e],types:["STRING"],data:t},r=i?i.call(e,"detailedSearch",s):E.call(e,"link-to","detailedSearch",s),(r||0===r)&&t.buffer.push(r),t.buffer.push(' to add filters to your search.</p>\n            <p><a href="#" '),t.buffer.push(w(n.action.call(e,"downloadCSV",{hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["STRING"],data:t}))),t.buffer.push('>Download as CSV</a></p>\n        </div>\n        <div class="list-group">\n            '),r=n["if"].call(e,"data.length",{hash:{},hashTypes:{},hashContexts:{},inverse:x.program(20,g,t),fn:x.program(4,o,t),contexts:[e],types:["ID"],data:t}),(r||0===r)&&t.buffer.push(r),t.buffer.push("\n        </div>\n    </div>\n    "),r=n["if"].call(e,"data.length",{hash:{},hashTypes:{},hashContexts:{},inverse:x.noop,fn:x.program(22,v,t),contexts:[e],types:["ID"],data:t}),(r||0===r)&&t.buffer.push(r),t.buffer.push("\n    <h1>&nbsp;</h1>\n"),u}function a(e,t){t.buffer.push("Detailed Search")}function o(e,t){var r,i="";return t.buffer.push("\n                "),r=n.each.call(e,"data",{hash:{},hashTypes:{},hashContexts:{},inverse:x.noop,fn:x.program(5,u,t),contexts:[e],types:["ID"],data:t}),(r||0===r)&&t.buffer.push(r),t.buffer.push("\n            "),i}function u(e,t){var r,i,s,a="";return t.buffer.push("\n                    "),i=n["link-to"]||e&&e["link-to"],s={hash:{classNames:"list-group-item"},hashTypes:{classNames:"STRING"},hashContexts:{classNames:e},inverse:x.noop,fn:x.program(6,l,t),contexts:[e,e],types:["STRING","ID"],data:t},r=i?i.call(e,"event","",s):E.call(e,"link-to","event","",s),(r||0===r)&&t.buffer.push(r),t.buffer.push("\n                "),a}function l(e,t){var r,i,s,a="";return t.buffer.push('\n                        <table border="0" cellpadding="0" cellspacing="0" style="width: 100%; table-layout:fixed;">\n                            <tr>\n                                <td style="width: 50%; white-space: nowrap; overflow: hidden; text-overflow: ellipsis; vertical-align: top;">\n                                    <h3 style="font-size: 18px; margin: 0px;">\n                                        '),t.buffer.push(w((i=n["event-color"]||e&&e["event-color"],s={hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["ID"],data:t},i?i.call(e,"event",s):E.call(e,"event-color","event",s)))),t.buffer.push("\n                                    </h3>\n                                    "),r=n["if"].call(e,"timestamp",{hash:{},hashTypes:{},hashContexts:{},inverse:x.noop,fn:x.program(7,c,t),contexts:[e],types:["ID"],data:t}),(r||0===r)&&t.buffer.push(r),t.buffer.push("\n                                    "),r=n["if"].call(e,"subject",{hash:{},hashTypes:{},hashContexts:{},inverse:x.noop,fn:x.program(9,h,t),contexts:[e],types:["ID"],data:t}),(r||0===r)&&t.buffer.push(r),t.buffer.push("\n                                    "),r=n["if"].call(e,"email",{hash:{},hashTypes:{},hashContexts:{},inverse:x.noop,fn:x.program(11,p,t),contexts:[e],types:["ID"],data:t}),(r||0===r)&&t.buffer.push(r),t.buffer.push("\n                                    "),r=n["if"].call(e,"url",{hash:{},hashTypes:{},hashContexts:{},inverse:x.noop,fn:x.program(13,f,t),contexts:[e],types:["ID"],data:t}),(r||0===r)&&t.buffer.push(r),t.buffer.push('\n                                </td>\n                                <td style="width: 50%; white-space: nowrap; overflow: hidden; text-overflow: ellipsis; vertical-align: top;">\n                                    '),r=n["if"].call(e,"category",{hash:{},hashTypes:{},hashContexts:{},inverse:x.noop,fn:x.program(15,d,t),contexts:[e],types:["ID"],data:t}),(r||0===r)&&t.buffer.push(r),t.buffer.push("\n                                    "),r=n["if"].call(e,"additional_arguments",{hash:{},hashTypes:{},hashContexts:{},inverse:x.noop,fn:x.program(18,b,t),contexts:[e],types:["ID"],data:t}),(r||0===r)&&t.buffer.push(r),t.buffer.push("\n                                </td>\n                            </tr>\n                        </table>\n                    "),a}function c(e,t){var r,i,s="";return t.buffer.push('\n                                        <p style="font-size: 10px; margin: 0px; color: #AAA;">'),t.buffer.push(w((r=n["format-date"]||e&&e["format-date"],i={hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["ID"],data:t},r?r.call(e,"timestamp",i):E.call(e,"format-date","timestamp",i)))),t.buffer.push("</p>\n                                    "),s}function h(e,t){var r,i="";return t.buffer.push('\n                                        <i><p class="truncate" style="font-size: 14px; margin-top: 5px; margin-bottom: 0px; font-weight: bold;">'),r=n._triageMustache.call(e,"subject",{hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["ID"],data:t}),(r||0===r)&&t.buffer.push(r),t.buffer.push("</p></i>\n                                    "),i}function p(e,t){var r,i="";return t.buffer.push('\n                                        <p class="truncate" style="font-size: 14px; margin: 0px;">'),r=n._triageMustache.call(e,"email",{hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["ID"],data:t}),(r||0===r)&&t.buffer.push(r),t.buffer.push("</p>\n                                    "),i}function f(e,t){var r,i="";return t.buffer.push('\n                                        <p class="truncate" style="font-size: 14px; margin-top: 5px; margin-bottom: 0px;">'),r=n._triageMustache.call(e,"url",{hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["ID"],data:t}),(r||0===r)&&t.buffer.push(r),t.buffer.push("</p>\n                                    "),i}function d(e,t){var r,i="";return t.buffer.push('\n                                        <p style="margin: 0px; font-weight: bold">Categories:</p>\n                                        <ul>\n                                            '),r=n.each.call(e,"category",{hash:{},hashTypes:{},hashContexts:{},inverse:x.noop,fn:x.program(16,m,t),contexts:[e],types:["ID"],data:t}),(r||0===r)&&t.buffer.push(r),t.buffer.push("\n                                        </ul>\n                                    "),i}function m(e,t){var r,i="";return t.buffer.push("\n                                                <li>"),r=n._triageMustache.call(e,"",{hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["ID"],data:t}),(r||0===r)&&t.buffer.push(r),t.buffer.push("</li>\n                                            "),i}function b(e,t){var r,i,s="";return t.buffer.push('\n                                        <p style="margin: 0px; font-weight: bold;">Additional Arguments</p>\n                                        '),t.buffer.push(w((r=n["list-additional-arguments"]||e&&e["list-additional-arguments"],i={hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["ID"],data:t},r?r.call(e,"additional_arguments",i):E.call(e,"list-additional-arguments","additional_arguments",i)))),t.buffer.push("\n                                    "),s}function g(e,t){t.buffer.push('\n                <div class="list-group-item">\n                    <h3 style="font-size: 18px; margin: 0px;">\n                        No results.\n                    </h3>\n                </div>\n            ')}function v(e,t){var r,i,s="";return t.buffer.push('\n        <div style="text-align: center; margin: auto;">\n            <ul class="pagination">\n                '),t.buffer.push(w((r=n["result-pagination"]||e&&e["result-pagination"],i={hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["ID"],data:t},r?r.call(e,"pages",i):E.call(e,"result-pagination","pages",i)))),t.buffer.push("\n            </ul>\n        </div>\n    "),s}this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,Ember.Handlebars.helpers),i=i||{};var y,E=n.helperMissing,w=this.escapeExpression,x=this;y=n["with"].call(t,"model",{hash:{},hashTypes:{},hashContexts:{},inverse:x.noop,fn:x.program(1,s,i),contexts:[t],types:["ID"],data:i}),y||0===y?i.buffer.push(y):i.buffer.push("")}),Ember.TEMPLATES.settings=Ember.Handlebars.template(function(e,t,n,r,i){this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,Ember.Handlebars.helpers),i=i||{};var s="",a=this.escapeExpression;return i.buffer.push('<div class="panel panel-default" style="margin-top: 25px">\n    <div class="panel-body">\n        <h1 style="margin-top:0px;">Settings</h1>\n\n        <p>Auto delete events that are older than \n            '),i.buffer.push(a(n.view.call(t,"Ember.Select",{hash:{content:"model.autoDeleteValues",optionValuePath:"content.value",optionLabelPath:"content.title",value:"model.selectedAutoDeleteValue"},hashTypes:{content:"ID",optionValuePath:"STRING",optionLabelPath:"STRING",value:"ID"},hashContexts:{content:t,optionValuePath:t,optionLabelPath:t,value:t},contexts:[t],types:["ID"],data:i}))),i.buffer.push('\n            old.\n        </p>\n        <p style="text-align:right;"><button '),i.buffer.push(a(n.action.call(t,"save",{hash:{},hashTypes:{},hashContexts:{},contexts:[t],types:["STRING"],data:i}))),i.buffer.push(' class="btn btn-primary">Save</button></p>\n    </div>\n</div>\n'),s}),Ember.Handlebars.helper("format-event",function(e){var t={bounce:"Bounce",click:"Click",deferred:"Deferred",delivered:"Delivered",dropped:"Dropped",open:"Open",processed:"Processed",spamreport:"Spam Report",unsubscribe:"Unsubscribe"};return t[e]});var formatEventWithColor=function(e){var t={bounce:'<span style="color:#880">Bounce</span>',click:'<span style="color:#008">Click</span>',deferred:'<span style="color:#088">Deferred</span>',delivered:'<span style="color:#080">Delivered</span>',dropped:'<span style="color:"800">Dropped</span>',open:'<span style="color:#008">Open</span>',processed:'<span style="color:#666">Processed</span>',spamreport:'<span style="color:#800">Spam Report</span>',unsubscribe:'<span style="color:#088">Unsubscribe</span>'};return t[e]};Ember.Handlebars.helper("event-color",function(e){return new Handlebars.SafeString(formatEventWithColor(e))}),Ember.Handlebars.helper("plural-event",function(e){return 1===e?"Event":"Events"});var formatDateToLocal=function(e){var e=new Date(1e3*e);return e.toLocaleDateString()+" at "+e.toLocaleTimeString()};Ember.Handlebars.helper("format-date",formatDateToLocal),Ember.Handlebars.helper("list-additional-arguments",function(e){var t=jQuery("<div/>"),n=jQuery("<ul/>").appendTo(t);for(var r in e)jQuery("<li/>").html(r+": "+e[r]).appendTo(n);return new Handlebars.SafeString(t.html())}),Ember.Handlebars.helper("result-pagination",function(e){var t=window.location.hash,n=t.split("/"),r=1*n[n.length-1],i=e[e.length-1];div=jQuery("<div/>"),n.pop();var s=$("<li/>").appendTo(div),a=n.slice(0);a.push(1);var o=a.join("/");1===r&&s.addClass("disabled"),jQuery("<a/>",{href:o}).html("&laquo;").appendTo(s);var u=8,l=(u+u%2)/2,c=r-l;1>c&&(c=1);var h=c+u;h>i&&(h=i),e.forEach(function(e){if(e>=c&&h>=e){var t=n.slice(0);t.push(e);var i=t.join("/"),s=jQuery("<li/>").appendTo(div);r===e&&s.addClass("active"),jQuery("<a/>",{href:i}).html(e).appendTo(s)}});var p=$("<li/>").appendTo(div),f=n.slice(0);f.push(i);var d=f.join("/");return r===i&&p.addClass("disabled"),jQuery("<a/>",{href:d}).html("&raquo;").appendTo(p),new Handlebars.SafeString(div.html())}),Ember.Handlebars.helper("label-for",function(e){var t=jQuery("<div/>");return jQuery("<label/ > ",{"for":e.id,"class":"col-sm-2 control-label"}).html(e.name).css("width","170px").css("marginRight","10px").css("textAlign","right").appendTo(t),new Handlebars.SafeString(t.html())}),Ember.Handlebars.helper("download-csv",function(e){var t=jQuery("<div/>");return jQuery("<a/>",{href:e}).html("Download as CSV").appendTo(t),new Handlebars.SafeString(t.html())}),App.DashboardRoute=Ember.Route.extend({model:function(){return Ember.$.getJSON("api/search.php?query=dashboard")}}),App.DetailedSearchResultsRoute=Ember.Route.extend({model:function(e){var t=JSON.parse(decodeURIComponent(e.query)),n=e.page;t.resultsPerPage=kResultsPerPage,t.offset=n;var r="api/search.php?"+$.param(t);return Ember.$.getJSON(r).then(function(e){return e.page=n,e.query=JSON.stringify(t),e})}}),App.DetailedSearchRoute=Ember.Route.extend({model:function(){return searchParams},renderTemplate:function(){this.render(),setTimeout(function(){var e=$(".init-date-picker");e.each(function(t){$(e[t]).datepicker()})},500)}});var searchParams=[];App.EmailRoute=Ember.Route.extend({model:function(e){var t={query:"email_stats",email:e.email_id};return Ember.$.getJSON("api/search.php?"+$.param(t)).then(function(t){return t.email=e.email_id,t})}}),App.EventRoute=Ember.Route.extend({model:function(e){var t=e.uid,n={query:"detailed",match:"all",uid:t};return Ember.$.getJSON("api/search.php?"+$.param(n)).then(function(e){return e.data.length?e.data[0]:[]})}}),App.SearchRoute=Ember.Route.extend({model:function(e){var t=kResultsPerPage,n=e.page,r={query:"wildcard",text:e.query,resultsPerPage:t,offset:n},i="api/search.php?"+$.param(r);return Ember.$.getJSON(i).then(function(e){return e.query=r.text,e.page=n,e})}}),App.SettingsRoute=Ember.Route.extend({model:function(){var e={autoDeleteValues:[{title:"1 month",value:1},{title:"2 months",value:2},{title:"3 months",value:3},{title:"4 months",value:4},{title:"5 months",value:5},{title:"6 months",value:6},{title:"7 months",value:7},{title:"8 months",value:8},{title:"9 months",value:9},{title:"10 months",value:10},{title:"11 months",value:11},{title:"12 months",value:12}],selectedAutoDeleteValue:6},t={query:"settings"};return Ember.$.getJSON("api/search.php?"+$.param(t)).then(function(t){return t.data.length&&(e.data=t.data,t.data.forEach(function(t){(t.setting="autodelete")&&(e.selectedAutoDeleteValue=1*t.value)})),e})}});